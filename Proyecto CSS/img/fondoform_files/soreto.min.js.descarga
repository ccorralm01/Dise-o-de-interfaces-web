var SoretoJS;!function(){"use strict";var t=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e={};!function(){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t(e);var i=function(t,e,i){var n="https://api.soreto.com",r=null,s=!1,a=null,l=null,d={},c=!1,p=!1,g={},u=null,h=null,m={globalVars:{mini:{minimizationEnabled:!1,launchMinimized:!1,toggleButtonInnerHtml:"<span>-</span>",miniLarge:{minWidthBreakpointPx:992,dimensions:{width:"300px",heigth:"150px"},position:{top:null,bottom:"0px",left:null,right:"0px"},closeButton:{show:!0},border:{showShadow:!0,radius:"10px"},toggleButton:{show:!0,marginTop:"-15px",marginBottom:null,marginRight:null,marginLeft:"-15px"}},miniMedium:{minWidthBreakpointPx:768,dimensions:{width:"100%",heigth:"100px"},position:{top:null,bottom:"0px",left:null,right:"0px"},closeButton:{show:!0},border:{showShadow:!0,radius:"10px"},toggleButton:{show:!0,marginTop:"-15px",marginBottom:null,marginRight:null,marginLeft:"-15px"}},miniSmall:{minWidthBreakpointPx:576,dimensions:{width:"100%",heigth:"100px"},position:{top:null,bottom:"0px",left:null,right:"0px"},closeButton:{show:!0},border:{showShadow:!0,radius:"10px"},toggleButton:{show:!0,marginTop:"-15px",marginBottom:null,marginRight:null,marginLeft:"-15px"}}}}},b=!1,f="soretosharewidget";function x(e,o){var i=new XMLHttpRequest;i.open("POST",n+"/tracking/auditlogtag",!0),i.withCredentials=!0,i.setRequestHeader("Content-type","application/json"),e&&(e.userBrowserURL=t.location.href),i.send(JSON.stringify(e)),i.onreadystatechange=function(){if(4===i.readyState)return o?o():void 0}}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";s&&console.log("Soreto: "+t,e)}function v(t){return/[^\u0000-\u00ff]/g.test(t)}function y(t,e){var o=new XMLHttpRequest;o.open("HEAD",t,!0),o.timeout=4e3,o.onload=function(){this.readyState==this.DONE&&e(404!=this.status&&400!=this.status&&403!=this.status)},o.ontimeout=function(){e(!1)},o.send()}function O(){for(var t=1;t<arguments.length;t++)for(var e in arguments[t])arguments[t].hasOwnProperty(e)&&("object"===o(arguments[0][e])&&"object"===o(arguments[t][e])?O(arguments[0][e],arguments[t][e]):arguments[0][e]=arguments[t][e]);return arguments[0]}function S(o){!function(e,o){if(window.SORETO_ALREADY_INIT)return o(!1);if(!e||"AWIN"!==e.affiliate||!e.Client||!e.Client.id||"DYNAMIC"!==e.sourceTag)return o(!0);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){if(200!=i.status)return o(!1);try{var n=JSON.parse(i.responseText).find((function(e){return t.location.href.indexOf(e.url)>-1}));return n&&n.sourceTag?(e.sourceTag=n.sourceTag,o(!0)):o(!1)}catch(t){return o(!1)}}},i.open("GET","https://routes.soreto.com/awin/".concat(e.Client.id,".json"),!0),i.send()}(o,(function(b){!window.SORETO_ALREADY_INIT&&b&&(window.SORETO_ALREADY_INIT=!0,function(t){var e=!0;return t||(console.log("Soreto: SORETO variable not declared!"),e=!1),t.Client?t.Client.id||(console.log("Soreto: SORETO.Client.id variable not declared!"),e=!1):(console.log("Soreto: SORETO.Client variable not declared!"),e=!1),e}(o)&&function(b,f,y,S,L,_,E){var B=new XMLHttpRequest;B.onreadystatechange=function(){4===B.readyState&&(200==B.status?function(b){var f=b.clientTagDetails,y=b.campaingVersionTagDetails;r=f.clientId?f.clientId:"",s=!!f.debugMode&&f.debugMode,a=f.dimensions?f.dimensions:null,l=f.positions?f.positions:null,d=f.lightboxStyles?f.lightboxStyles:{},g=f.features?f.features:{},c=!!f.onUserDataVErrorForceTSL&&f.onUserDataVErrorForceTSL,p=!!f.allowNoFirstnameOnTag&&f.allowNoFirstnameOnTag,h=f.lightboxOriginUrlRestriction,u=f.staticPageDimensions?f.staticPageDimensions:null,m=O(m,y);var S,L,_=1500,E=f.showLightboxOnConfirmationPage,B=!1,I="";if(function(t){t.User&&(v(t.User.firstName)&&(t.originalUserFirstName=t.User.firstName,t.userNameVanishedNonLatin=!0,t.User.firstName=""),v(t.User.email)&&(t.originalUserEmail=t.User.email,t.userEmailVanishedNonLatin=!0,t.User.email=""))}(o),x(o),!function(t){var e=!0;function o(){if(!t.User)return w("SORETO.User variable not declared!"),!1;if(!p){if(null==t.User.firstName)return w("SORETO.User.firstName variable not declared!"),!1;if(""==t.User.firstName)return w("SORETO.User.firstName cannot be empty"),!1;if(v(t.User.firstName))return w("SORETO.User.firstName has invalid characters"),!1}return null==t.User.email?(w("%c SORETO.User.email variable not declared!","color: red"),!1):""==t.User.email?(w("%c SORETO.User.email cannot be empty","color: red"),!1):(e=t.User.email,!(!/^[\w-+.]+@([\w-]+\.)+[\w-]{2,4}$/g.test(String(e).toLowerCase())||v(t.User.email))||(w("SORETO.User.email value is invalid!"),!1));var e}function i(){return!(t.Order&&(t.Order.id?""==t.Order.id?(w("SORETO.Order.id cannot be empty"),1):void 0===t.Order.total?(w("SORETO.Order.total variable not declared!"),1):""===t.Order.total?(w("SORETO.Order.total cannot be empty"),1):(e=t.Order.total,"."==(e=e.toString()).substring(e.length-1)&&(e+="0"),!new RegExp("^\\d+(\\.\\d{1,25})?$","g").test(e)&&(w("SORETO.Order.total: "+t.Order.total+" is invalid. It should follow the pattern ###.##"),1)):(w("SORETO.Order.id variable not declared!"),1)));var e}return t.Lightbox||(t.Lightbox={}),t.Lightbox.twoStepLightbox=!!g.twoStepLightbox&&g.twoStepLightbox,g.twoStepLightbox?(e=i(),t.Lightbox.twoStepLightbox=!0):c&&!o()?(t.Lightbox.twoStepLightbox=!0,e=i(),t.forcedTwoStepLightbox=!0,x(t)):e=i()&&o(),!e||t.forcedTwoStepLightbox?w("%c Refer below for a valid configuration of our Soreto variable:\n      // ##### SORETO TAG VARIABLE EXAMPLE #####\n      var SORETO = {};\n      SORETO.Client = {};\n      SORETO.User = {};\n      SORETO.Order = {};\n      SORETO.Lightbox = {}\n      /*** Set your transaction parameters ***/\n      SORETO.Client.id = '123456';\n      SORETO.User.firstName = 'John';\n      SORETO.User.email = 'john@doe.com';\n      SORETO.Order.id = 'ABCD';\n      SORETO.Order.total = '100.10';\n      ","color: red"):w("%c Soreto Setup is done!","color: green"),e}(o))return o.invalidTagArgs=!0,void x(o);o.testMode||0!=f.active||(E=!1),m._id||(o.noAvailableCampaign=!0,x(o),E=!1),function(e){var o=!0;if(e){var i=e.whiteList,n=e.blackList;i&&i.length>0&&(o=i.some((function(e){return t.location.href.indexOf(e)>-1}))),o&&n&&n.length>0&&(o=!n.some((function(e){return t.location.href.indexOf(e)>-1})))}return o}(h)?(o.Order?(w("Start send order"),function(t){var e,o,n=(e=i,(o={orderObj:{}}).orderObj.lineItems=[],o.setClientId=function(t){this.orderObj.clientId=t},o.setBuyerEmail=function(t){this.orderObj.buyerEmail=t},o.setTestMode=function(t){this.orderObj.testMode=t||!1},o.setOrderId=function(t){w("soreto.order.id:"+t),this.orderObj.orderId=t},o.setVoucherCode=function(t){t&&(this.orderObj.voucherCode=t)},o.setOrderTotal=function(t){var e,o,i,n,r,s,a,l=parseFloat(t);(function(t){if(!isFinite(t))return 0;for(var e=1,o=0;Math.round(t*e)/e!==t;)e*=10,o++;return o})(l)>6&&(e=l,o=6,i=Math.pow(10,o),a=(s=(n=+(o?e*i:e).toFixed(8))-(r=Math.floor(n)))>.5-1e-8&&s<.5+1e-8?r%2==0?r:r+1:Math.round(n),l=o?a/i:a),w("soreto.order.total:"+l),this.orderObj.orderTotal=l},o.addLineItem=function(t,e,o,i,n,r){this.orderObj.lineItems.push({name:t,description:e,sku:o,quantity:i,price:n,category:r})},o.setCurrency=function(t){t&&(this.orderObj.currency=t)},o.setCountry=function(t){t&&(this.orderObj.country=t)},o.ready=function(){w("soreto.ready.called: true"),e.orderObj=this.getOrder()},o.getOrder=function(){return this.orderObj},o);n.setClientId(r),n.setOrderId(t.Order.id),n.setOrderTotal(t.Order.total),n.setVoucherCode(t.Order.voucherCode),n.setCurrency(t.Order.currency),n.setCountry(t.Order.country),n.setBuyerEmail(t.User.email),n.setTestMode(t.testMode),n.ready()}(o),w("End send order")):w("no order"),S={event:"REFERRED PAGE VIEW",properties:{client_id:f.clientId,referrer:t.location.href}},(L=new XMLHttpRequest).onreadystatechange=function(){var t=4,e=200;L.readyState===t&&L.status!==e&&console.log(L.status)},L.open("GET",n+"/analytics?clientId="+r+"&info="+T(S),!0),L.withCredentials=!0,L.send(),0!=E&&o.Lightbox&&"doNotShow"in o.Lightbox&&(w("Local do not show value is:"+o.Lightbox.doNotShow),E=!o.Lightbox.doNotShow),0!=E&&o.Lightbox&&"show"in o.Lightbox&&(w("Local show prop value is:"+o.Lightbox.show),E=0!=o.Lightbox.show),o.Widget&&"showWidget"in o.Widget&&"widgetType"in o.Widget&&(w("Local do widget show value is:"+o.Widget),B=!!o.Widget.showWidget,o.Widget.widgetType&&(I=o.Widget.widgetType)),i.orderObj&&(w("Start generate pixel"),function(o){o.sdkv="soreto_js",o.userBrowserURL=t.location.href;var i=document.createElement("img");if(i.setAttribute("id","reverbPixel"),i.style.display="none",document.body.appendChild(i),e.getElementById("reverbPixel")){var r=e.getElementById("reverbPixel");w("soreto pixel called");var s=T(o);r.src=n+"/tracking/reverbpixel.png?info="+s}}(i.orderObj),w("End generate pixel"),m.globalVars&&m.globalVars.showLightboxMinimumOrderValue&&i.orderObj.orderTotal<m.globalVars.showLightboxMinimumOrderValue&&(E=!1)),w("Start open lightbox"),o.Lightbox&&null!=o.Lightbox.lightboxLaunchTimeout&&(_=o.Lightbox.lightboxLaunchTimeout),i.opts={timeout:_,firstName:o.User.firstName,email:o.User.email,testMode:o.testMode,campaignVersionId:m._id,dimensions:a,positions:l,country:o.Order?o.Order.country:"",sourceTag:o.sourceTag,twoStepLightbox:o.Lightbox.twoStepLightbox,showSoretoWidget:B,widgetType:I,staticPageDimensions:u,blockMinimization:o.blockMinimization},E?(w("the lightbox has been set to show."),i.openLightbox(o)):w("the lightbox has been set not to show."),w("End open lightbox")):s&&(o.blockedByOriginUrl=!0,x(o))}(JSON.parse(B.responseText)):console.log("Invalid Soreto client id"))};var I="?user_browser_url="+btoa(t.location.href);f&&(I+="&campaign_version_id="+f),y&&(I+="&country="+y),S&&(I+="&source_tag="+S),L&&(I+="&widget_type="+L),1==_&&(I+="&test_mode="+_),B.open("GET","https://api.soreto.com/api/v1/clients/tagdetails/"+b+I,!0),B.withCredentials=!0,B.send()}(o.Client.id,o.Client.campaignVersionId,o.Order&&o.Order.country?o.Order.country:o.Client.country,o.sourceTag,o.Widget?o.Widget.widgetType:null,o.testMode))}))}function T(t){return btoa(JSON.stringify(t))}function L(){!function(t,e){var o={type:"lightbox-close-cta"};o.clientId=r,o.campaignVersionId=m?m._id:null,o.sourceTag=e.sourceTag,o.testMode=e.testMode;var i=new XMLHttpRequest;i.open("POST",n+"/api/v1/tracking",!0),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(o))}(0,window.SORETO),e.getElementById("uglipop_overlay_wrapper").style.display="none",e.getElementById("uglipop_overlay").style.display="none",e.getElementById("uglipop_content_fixed").style.display="none"}function _(t){var o=e.getElementById("closeButton");if("closeButton"==t&&o.classList&&o.classList.contains("reverb-lightbox-close-mini"))L();else{e.getElementById("uglipop_overlay_wrapper").classList.toggle("hide"),e.getElementById("uglipop_overlay").classList.toggle("hide");var i=e.getElementById("uglipop_content_fixed");i.classList.toggle("uglipop_content_fixed"),i.classList.toggle("uglipop_content_fixed_mini"),o.classList.toggle("reverb-lightbox-close-mini")}}return i.settings={dimensions:{dimD:{w:"800px",h:"500px"},dimT:{w:"800px",h:"500px"},dimM:{w:"300px",h:"450px"}},breakpoints:{dimT:"1024px",dimM:"850px"},positions:{posD:{top:"50%",left:"50%"},posT:{top:"50%",left:"50%"},posM:{top:"50%",left:"50%"}},borderRadius:"10px",backgroundDim:!0,dropShadow:!0,clickBackgroundToClose:!1,showCloseButton:!0,closeButtonStyle:"hoverOut",closeButtonColor:"white"},i.reInit=function(){S(window.SORETO)},i.staticPageSettings={dimensions:{dimD:{w:"100%",h:"100%"},dimT:{w:"100%",h:"100%"},dimM:{w:"100%",h:"100%"}}},i.initLightbox=function(t){var o=e.createElement("div"),n=e.createElement("div"),r=e.createElement("div"),s=e.createElement("div"),a=e.createElement("div"),l=e.createElement("span"),d=t.campaignVersionDetails&&t.campaignVersionDetails.globalVars?t.campaignVersionDetails.globalVars.mini:null;if(n.id="uglipop_content_fixed",n.className="uglipop_content_fixed",a.id="closeButton",a.className+=" reverb-lightbox-close",a.onclick=function(){return 1==d.minimizationEnabled?i.toggleLightboxState("closeButton"):i.close()},l.className="default-close-text",l.innerHTML=d&&1==d.minimizationEnabled?"-":"x",a.appendChild(l),n.appendChild(a),r.id="uglipop_popbox",n.appendChild(r),o.id="uglipop_overlay",s.id="uglipop_overlay_wrapper",t.backgroundDim)for(var c in s.setAttribute("style","position:absolute;top:0;bottom:0;left:0;right:0;"),o.setAttribute("style","position:fixed;top:0;bottom:0;left:0;right:0;width:100%;height:100%;opacity:0.3;background-color:black;"),t.overlayStyles)t.overlayStyles.hasOwnProperty(c)&&o.style.setProperty(c,t.overlayStyles[c]);s.appendChild(o),e.body.appendChild(s),e.body.appendChild(n),s.classList.add("hide"),o.classList.add("hide"),n.classList.add("hide"),t.clickBackgroundToClose&&(o.onclick=function(){return i.close()});var p,g=e.createElement("style");if(g.innerHTML=".reverb-lightbox{      border-radius: "+t.borderRadius+";      background-color:white;      overflow: hidden;      "+(t.dropShadow?"-webkit-box-shadow: 0px 0px 20px 3px rgba(0,0,0,0.75);        -moz-box-shadow: 0px 0px 20px 3px rgba(0,0,0,0.75);        box-shadow: 0px 0px 20px 3px rgba(0,0,0,0.75);":"")+"      height:100%;    }    .uglipop_content_fixed {      width:"+t.dimensions.dimD.w+";      height:"+t.dimensions.dimD.h+";      top:"+t.positions.posD.top+";      left:"+t.positions.posD.left+";      position:fixed;      transform: translate(-50%, -50%);      -webkit-transform: translate(-50%, -50%);      -ms-transform: translate(-50%, -50%);    }    @media screen and (max-width: "+t.breakpoints.dimT+"){      .uglipop_content_fixed {        width: "+t.dimensions.dimT.w+";        height: "+t.dimensions.dimT.h+";        top:"+t.positions.posT.top+";        left:"+t.positions.posT.left+";      }    }    @media screen and (max-width: "+t.breakpoints.dimM+"){      .uglipop_content_fixed {        width: "+t.dimensions.dimM.w+";        height: "+t.dimensions.dimM.h+";        top:"+t.positions.posM.top+";        left:"+t.positions.posM.left+";      }    }    .uglipop_content_fixed{      z-index:2147483647;    }    #uglipop_overlay_wrapper{      z-index:2147483647;    }    #uglipop_popbox > iframe{      display:block;    }    .reverb-lightbox-iframe {      overflow: hidden;      width: 100%;      height: 100%;      border: none;    }    .hide {      display: none !important;      height: 0px !important;      opacity: 0 !important;      transition: all 200ms linear !important;    }    "+("hoverIn"==(p=t.closeButtonStyle)?"div.reverb-lightbox-close{          width: 25px;          height: 35px;          position: absolute;          top: 0;          right: 0;          cursor:pointer;          color: "+t.closeButtonColor+";          text-align: center;          display: "+(t.showCloseButton?"inline-block;":"none;")+'          z-index:2147483647;        }        div.reverb-lightbox-close span{          display:none;          content:"";        }        div.reverb-lightbox-close:after{          display: inline-block;          content: "\\00d7";          font-size: 34px;          font-weight: 100;          line-height: 19px;        }':"squareIn"==p?"div.reverb-lightbox-close{          position: absolute;          right: 2px;          top: 5px;          width: 27px;          background-color: "+t.closeButtonBGColor+';          text-align: center;          cursor:pointer;          height: 23px;          font-family: Arial;        }        div.reverb-lightbox-close span{          display:none;          content:"";        }        div.reverb-lightbox-close::before{          color: '+t.closeButtonColor+';          content: "\\2715";          font-size: 17px;          font-weight: 100;        }':"custom"==p?"div.reverb-lightbox-close{          position: absolute;          right: "+t.closeButtonSpaceRight+";          top: "+t.closeButtonSpaceTop+";          width: "+t.closeButtonImageWidth+";          height: "+t.closeButtonImageHeight+";          background-size: cover !important;          background: url("+t.closeButtonImageURL+') no-repeat center;          cursor:pointer;        }        div.reverb-lightbox-close span{          display:none;          content:"";        }':"div.reverb-lightbox-close{        width: 35px;        height: 35px;        position: absolute;        top: 0;        right: 0;        margin-top: -13px;        margin-right: -13px;        cursor:pointer;        color: "+t.closeButtonColor+";        border-radius: 50%;        background: #2d2d2d;        text-align: center;        display: "+(t.showCloseButton?"inline-block;":"none;")+"        -webkit-box-shadow: -1px 1px 5px 0px rgba(77,77,77,1);        -moz-box-shadow: -1px 1px 5px 0px rgba(77,77,77,1);        box-shadow: -1px 1px 5px 0px rgba(77,77,77,1);        z-index:2147483647;      }      div.reverb-lightbox-close span {        font-family: sans-serif;        -webkit-font-smoothing: auto;        line-height: 35px;        font-size: 20px;        font-weight: 400;      }"),e.head.appendChild(g),d&&1==d.minimizationEnabled){for(var u="\n\n        .uglipop_content_fixed_mini {\n          position: fixed;\n          opacity: 1;\n          z-index: 2147483647;\n        }\n\n        /* hide toogle button when the lightbox window is in regular size */\n        div.reverb-lightbox-close > .toggle-button {\n          display: none;\n        }\n\n        /* display toogle button when the lightbox window is in mini mode */\n        div.reverb-lightbox-close-mini > .toggle-button {\n          display: block;\n        }\n\n        /* hide regular close button content when the lightbox window is in mini mode */\n        div.reverb-lightbox-close-mini > .default-close-text {\n          display: none;\n        }\n      ",h=null,m=0,f=[d.miniLarge,d.miniMedium,d.miniSmall];m<f.length;m++){var x=f[m];u+="\n\n          @media screen and (min-width: ".concat(x.minWidthBreakpointPx,"px)\n            ").concat(h?"and (max-width: ".concat(h.minWidthBreakpointPx,"px)"):"","\n          {\n\n              /* this class defines the size and position of the mini version of the lightbox */\n\n              .uglipop_content_fixed_mini {\n                width: ").concat(x.dimensions.width,";\n                height: ").concat(x.dimensions.heigth,";\n                top: ").concat(x.position.top||"auto",";\n                bottom: ").concat(x.position.bottom||"auto",";\n                left: ").concat(x.position.left||"auto",";\n                right: ").concat(x.position.right||"auto",";\n              }\n\n              /* this class defines the size and position of the close icon */\n\n              div.reverb-lightbox-close-mini {\n                display: ").concat(1==x.closeButton.show?"block":"none"," !important;\n                top: ").concat(x.position.top?"auto":"0px"," !important;\n                bottom: ").concat(x.position.bottom?"auto":"0px"," !important;\n                right: ").concat(x.position.right?"auto":"0px"," !important;\n                left: ").concat(x.position.left?"auto":"0px"," !important;\n                margin-top: ").concat(x.closeButton.marginTop||"auto"," !important;\n                margin-bottom: ").concat(x.closeButton.marginBottom||"auto"," !important;\n                margin-right: ").concat(x.closeButton.marginRight||"auto"," !important;\n                margin-left: ").concat(x.closeButton.marginLeft||"auto",' !important;\n              }\n\n              /* this class defines the aspects of the "border" of the lightbox */\n\n              .reverb-lightbox-mini {\n                border-radius: ').concat(x.border.radius," !important;\n                ").concat(0==x.border.showShadow?"box-shadow:none !important;":"","\n              }\n          }\n        "),h=x}var w=e.createElement("style");if(w.innerHTML=u,e.head.appendChild(w),d.toggleButtonInnerHtml){var v=e.createElement("div");v.classList.add("toggle-button"),v.innerHTML=d.toggleButtonInnerHtml,a.append(v)}}b=!0},i.initShareStaticPage=function(t){var o=e.createElement("style");o.innerHTML=".reverb-static-lightbox{      width:"+t.dimensions.dimD.w+";      height:"+t.dimensions.dimD.h+";    }    #soretosharewidget {      width:"+t.dimensions.dimD.w+";      height:"+t.dimensions.dimD.h+";    }    #soretosharewidget > iframe{      display:block;    }    .reverb-static-lightbox-iframe {      overflow: hidden;      width: 100%;      height: 100%;      border: none;    }    ",e.head.appendChild(o),b=!0},i.openLightbox=function(e){var o=i,s=i.opts,a=s.email?s.email:"",l=s.firstName?s.firstName:"",c=s.testMode?s.testMode:"",p=s.campaignVersionId?s.campaignVersionId:"",g=s.country?s.country:"",u=s.sourceTag?s.sourceTag:"",h=s.twoStepLightbox?s.twoStepLightbox:"",f=e.Order&&e.Order.id?e.Order.id:"",x=t.location.href,w=m.globalVars.mini.minimizationEnabled;if(!s.products||function(t){if(!t.length)return!1;for(var e=0;e<t.length;e++){var o=t[e];if(!o.hasOwnProperty("image")||!o.hasOwnProperty("productUrl"))return console.error("Soreto failed to launch: Product "+(e+1)+" is missing a required value"),!1}return!0}(s.products)){var v=s.products;if(s.showSoretoWidget){s.staticPageDimensions&&(i.staticPageSettings.dimensions=s.staticPageDimensions);var S=O(i.staticPageSettings,e.staticPageSettings);"sharestaticpage"==s.widgetType&&(0==b&&i.initShareStaticPage(S),setTimeout((function(){var t=T({products:v,email:a,first_name:l,test_mode:c,campaign_version_id:p,country:g,sourceTag:u,client_order_id:f,two_step_lightbox:h,user_browser_url:x,minimization_enabled:w,sdkv:"soreto_js"}),e=n+"/placement/"+r+"/sharestaticpage?encoded="+t;y(e,(function(t){t&&o.inject({class:s.class||"reverb-static-lightbox",source:"html",content:'<iframe class="reverb-static-lightbox-iframe" src="'+e+'"></iframe>'})}))}),s.timeout||1e3))}else{s.dimensions&&(i.settings.dimensions=s.dimensions),s.positions&&(i.settings.positions=s.positions);var L=O(i.settings,e.lighboxSettings,d,{campaignVersionDetails:m});0==b&&i.initLightbox(L),setTimeout((function(){var t=T({products:v,email:a,first_name:l,test_mode:c,campaign_version_id:p,country:g,source_tag:u,client_order_id:f,two_step_lightbox:h,user_browser_url:x,minimization_enabled:w,sdkv:"soreto_js"}),e=n+"/placement/"+r+"/lightbox?encoded="+t;y(e,(function(t){t&&o.popup({class:s.class||"reverb-lightbox reverb-lightbox-mini",source:"html",miniMode:m.globalVars.mini.minimizationEnabled,launchMinimized:!1!==s.blockMinimization&&m.globalVars.mini.launchMinimized,content:'<iframe id="myIFrame" class="reverb-lightbox-iframe" src="'+e+'"></iframe>'})}))}),s.timeout||1e3)}}},i.popup=function(t){t&&("string"==typeof t.class&&t.class&&e.getElementById("uglipop_popbox").setAttribute("class",t.class),t.keepLayout&&!t.class&&e.getElementById("uglipop_popbox").setAttribute("style","position:relative;height:300px;width:300px;background-color:white;opacity:1;"),"string"==typeof t.content&&t.content&&"html"==t.source&&(e.getElementById("uglipop_popbox").innerHTML=t.content),"string"==typeof t.content&&t.content&&"div"==t.source&&(e.getElementById("uglipop_popbox").innerHTML=e.getElementById(t.content).innerHTML));var o=e.getElementById("uglipop_overlay_wrapper"),i=e.getElementById("uglipop_overlay"),n=e.getElementById("uglipop_content_fixed");n.classList.remove("hide"),t.miniMode&&t.launchMinimized?(n.classList.remove("uglipop_content_fixed"),n.classList.add("uglipop_content_fixed_mini"),e.getElementById("closeButton").classList.add("reverb-lightbox-close-mini")):(o.classList.remove("hide"),i.classList.remove("hide")),window.addEventListener("message",(function(t){switch(t.data){case"toogle-lightbox":_();break;case"close-lightbox":L()}}),!1)},i.inject=function(t){t&&("string"==typeof t.class&&t.class&&e.getElementById(f).setAttribute("class",t.class),"string"==typeof t.content&&t.content&&"html"==t.source&&(e.getElementById(f).innerHTML=t.content))},i.close=function(){L()},i.toggleLightboxState=function(t){_(t)},S(window.SORETO),i}(window,document,i||{});e.default=i}(),SoretoJS=e}();